<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <style>
      .orbit {
        stroke : #000000;
        fill : none;
      }
      .satelite {
        stroke : #000000;
        fill : #FFFFFF;
      }
      .earth {
        stroke : #000000;
        fill : #ffcc00;
      }
    </style>

  </head>
  <body>

  <div id="lowEarthOrbit">
    <svg width="1000" height="1000">
      <G>
        <circle class="earth" cx="500" cy="500" r="35"></circle>

        <circle class="satelite" cx="115" cy="0" r="1"></circle>
        <circle class="satelite" cx="150" cy="0" r="1"></circle>
        <circle class="satelite" cx="183" cy="0" r="1"></circle>
        <circle class="satelite" cx="237" cy="0" r="1"></circle>
        <circle class="satelite" cx="385" cy="0" r="1"></circle>
        <circle class="satelite" cx="294" cy="0" r="1"></circle>
      </G>
    </svg>
  </div>

    <script type="text/javascript">

    var circle = d3.selectAll("circle");
    // circle.style("fill", "steelblue");
    var svg = d3.select("svg");

    var thisData = [
      { R: 300, r:  1.5, speed: 7, phi0: 90, cx: 115, cy: 0 },
      { R: 150, r: 15, speed: 3.5, phi0: 190, cx: 150, cy: 0 },
      { R: 300, r:  3.5, speed: 2.5, phi0: 90, cx: 183, cy: 0 },
      { R: 150, r: 3.5, speed: 4, phi0: 190, cx: 237, cy: 0 },
      { R: 300, r:  6.8, speed: 5, phi0: 90, cx: 385, cy: 0 },
      { R: 150, r: 5.3, speed: 6.3, phi0: 190, cx: 294, cy: 0 },
      { R: 250, r: 4.2, speed: 22, phi0: 45, cx: 125, cy: 0 } ];

    var satelite = svg.selectAll(".satelite")
        .data(thisData, function(d, i) { return (i); } );

    var sateliteEnter = satelite.enter().append("circle")
        .data(thisData, function(d, i) { return (i); } );

    satelite.attr("r", function(d) { return d.r; });


    var t0 = Date.now();

    var container = d3.select("G");
    //   .attr("transform", "translate(" + w/2 + "," + h/2 + ")");

    d3.timer(function() {
      var delta = (Date.now() - t0); //The amount of time that has elapsed since the execution of the program.
      // svg.selectAll(".satelite").attr("transform", function(d) {

      // svg.selectAll("circle").attr("transform", function(d) {
      //   return "rotate(" + delta * 35/200 + ")";


      svg.selectAll(".satelite").attr("transform", function(d) {
        return "translate(500,500), rotate(" + delta *  d.speed/200 + ")";

        //This is the function that creates a rotational path based on the amount of time that has elapsed.
      });
    });


      //
      // var w = 800, h = 600;
      //
      //
      // var satelites = [
      //   { R: 300, r:  5, speed: 5, phi0: 90 },
      //   { R: 150, r: 10, speed: 2, phi0: 190 },
      //   { R: 250, r: 7, speed: 22, phi0: 0 }
      //   //Large R selects orbit radius, small r selects size, phi0 selects starting position.
      // ];
      //
      //
      // var svg = d3.select("#lowEarthOrbit").insert("svg")
      //   .attr("width", w).attr("height", h);
      //
      // svg.append("circle").attr("r", 20).attr("cx", w/2)
      //   .attr("cy", h/2).attr("class", "earth")
      //   //This line of code is creating the center circle, AKA the Earth.
      //
      // var container = svg.append("g")
      //   .attr("transform", "translate(" + w/2 + "," + h/2 + ")")
      //   //This g object is the container in which the satelites orbit in.
      //
      // container.selectAll("g.satelite").data(satelites).enter().append("g")
      //   .attr("class", "satelite").each(function(d, i) {
      //     d3.select(this).append("circle").attr("class", "orbit")
      //       .attr("r", d.R);
      //       //This line of code establishes the orbital circle, the large R
      //     d3.select(this).append("circle").attr("r", d.r).attr("cx",d.R)
      //       .attr("cy", 0).attr("class", "satelite");
      //       //This line of code creates the satelite object and starts them all off on a line.
      //   });
      //
      // d3.timer(function() {
      //   var delta = (Date.now() - t0);
      //   svg.selectAll(".satelite").attr("transform", function(d) {
      //     return "rotate(" + d.phi0 + delta * d.speed/200 + ")";
      //
      //     //This is the function that creates a rotational path based on the amount of time that has elapsed.
      //   });
      // });

    </script>


  </body>

</html>
